<div class="reset-password-form" [ngStyle]="{'height.px': formHeight}">
  <div class="header">
    <h6>{{ headerTitle }}</h6> <!-- Dynamic header title -->
  </div>
  <dx-validation-group #validationGroup>
  <!-- Email/Phone Input and Get OTP Button -->
  <div *ngIf="!otpVerified">
    <dx-text-box 
      label="Enter your Email or Phone no" 
      placeholder="Email or Phone Number"
      [(value)]="formData.email"
    ><dx-validator [validationRules]="emailValidationRules"></dx-validator>
  </dx-text-box>
    <dx-button 
      style="margin-top: 20px;" 
      text="Get OTP" 
      type="default" 
      (onClick)="onGetOtp()"
      [disabled]="isButtonDisabled"
    ></dx-button>
  </div>

  <!-- OTP Input and Verify Button (shown after Get OTP is clicked) -->
  <div class="otp-container" *ngIf="otpSent" style="margin-top: 20px;">
    <span>{{ otpMessage }}</span> <!-- Display OTP message here -->
    <div class="otp-inputs">
      <dx-text-box 
        #otp1
        [(value)]="otpDigits[0]" 
        maxLength="1"
        (keyup)="onOtpKeyUp($event, 0)"
        placeholder="0"
        class="otp-input"
      ></dx-text-box>

      <dx-text-box 
        #otp2
        [(value)]="otpDigits[1]" 
        maxLength="1"
        (keyup)="onOtpKeyUp($event, 1)"
        placeholder="0"
        class="otp-input"
      ></dx-text-box>

      <dx-text-box 
        #otp3
        [(value)]="otpDigits[2]" 
        maxLength="1"
        (keyup)="onOtpKeyUp($event, 2)"
        placeholder="0"
        class="otp-input"
      ></dx-text-box>

      <dx-text-box 
        #otp4
        [(value)]="otpDigits[3]" 
        maxLength="1"
        (keyup)="onOtpKeyUp($event, 3)"
        placeholder="0"
        class="otp-input"
      ></dx-text-box>

      <dx-text-box 
        #otp5
        [(value)]="otpDigits[4]" 
        maxLength="1"
        (keyup)="onOtpKeyUp($event, 4)"
        placeholder="0"
        class="otp-input"
      ></dx-text-box>

      <dx-text-box 
        #otp6
        [(value)]="otpDigits[5]" 
        maxLength="1"
        (keyup)="onOtpKeyUp($event, 5)"
        placeholder="0"
        class="otp-input"
      ></dx-text-box>
    </div>

    <div *ngIf="otpSent" class="timer-section">
      <p>Time remaining: {{ timer }} seconds</p>
    </div>

    <dx-button
      style="margin-top: 20px;"
      text="Verify"
      type="default"
      (onClick)="verifyOtp()"
    ></dx-button>
  </div>

  <!-- New Password Form (shown after OTP is verified) -->
  <div *ngIf="otpVerified">
    <dx-text-box style="margin-bottom: 20px;"
      [(value)]="formData.newPassword" 
      mode="password" 
      placeholder="Enter New Password"
    >
    <dx-validator>
      <dxi-validation-rule
        type="required"
        message="New Password is required"
      ></dxi-validation-rule>
    </dx-validator>
  </dx-text-box>

    <dx-text-box 
      [(value)]="formData.confirmPassword" 
      mode="password" 
      placeholder="Confirm New Password"
    >
    <dx-validator>
      <dxi-validation-rule
        type="required"
        message="Confirm Password is required"
      ></dxi-validation-rule>
    </dx-validator>
  </dx-text-box>

    <dx-button 
      style="margin-top: 20px;" 
      text="Submit" 
      type="success" 
      (onClick)="resetPassword()"
    ></dx-button>
  </div>
</dx-validation-group>
</div>
